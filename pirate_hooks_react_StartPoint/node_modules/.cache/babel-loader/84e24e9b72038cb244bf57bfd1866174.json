{"ast":null,"code":"var _jsxFileName = \"/Users/niallnixon/codeclan_work/week_13/day_03/5_fullstack_spring_react_hooks/pirate_hooks_react_StartPoint/src/containers/ShipContainer.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport { Route, Switch } from 'react-router-dom';\nimport Request from '../helpers/request';\nimport ShipList from '../components/ships/ShipList';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst ShipContainer = () => {\n  _s();\n\n  const [pirates, setPirates] = useState([]);\n  const [ships, setShips] = useState([]);\n  const [raids, setRaids] = useState([]);\n\n  const requestAll = function () {\n    const request = new Request();\n    const piratePromise = request.get('/api/pirates');\n    const shipPromise = request.get('/api/ships');\n    const raidPromise = request.get('/api/raids');\n    Promise.all([piratePromise, shipPromise, raidPromise]).then(data => {\n      setPirates(data[0]);\n      setShips(data[1]);\n      setRaids(data[2]);\n    });\n  };\n\n  useEffect(() => {\n    requestAll();\n  }, []);\n\n  const findShipById = function (id) {\n    return ships.find(ship => {\n      return ship.id === parseInt(id);\n    });\n  };\n\n  const handleDelete = function (id) {\n    const request = new Request();\n    const url = \"/api/ships/\" + id;\n    request.delete(url).then(() => window.location = \"/ships\");\n  };\n\n  const handlePost = function (ship) {\n    const request = new Request();\n    request.post(\"/api/ships\", ship).then(() => window.location = '/ships');\n  };\n\n  if (!ships) {\n    return null;\n  }\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(Switch, {\n      children: /*#__PURE__*/_jsxDEV(Route, {\n        render: () => {\n          return /*#__PURE__*/_jsxDEV(ShipList, {\n            ships: ships\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 57,\n            columnNumber: 18\n          }, this);\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 9\n    }, this)\n  }, void 0, false);\n};\n\n_s(ShipContainer, \"Jy8x3N3hazWajupm54J4X5YomgY=\");\n\n_c = ShipContainer;\nexport default ShipContainer;\n\nvar _c;\n\n$RefreshReg$(_c, \"ShipContainer\");","map":{"version":3,"sources":["/Users/niallnixon/codeclan_work/week_13/day_03/5_fullstack_spring_react_hooks/pirate_hooks_react_StartPoint/src/containers/ShipContainer.js"],"names":["React","useState","useEffect","Route","Switch","Request","ShipList","ShipContainer","pirates","setPirates","ships","setShips","raids","setRaids","requestAll","request","piratePromise","get","shipPromise","raidPromise","Promise","all","then","data","findShipById","id","find","ship","parseInt","handleDelete","url","delete","window","location","handlePost","post"],"mappings":";;;AAAA,OAAOA,KAAP,IAAeC,QAAf,EAAyBC,SAAzB,QAAyC,OAAzC;AACA,SAAQC,KAAR,EAAeC,MAAf,QAA4B,kBAA5B;AACA,OAAOC,OAAP,MAAoB,oBAApB;AACA,OAAOC,QAAP,MAAqB,8BAArB;;;;AAEA,MAAMC,aAAa,GAAG,MAAM;AAAA;;AACxB,QAAM,CAACC,OAAD,EAAUC,UAAV,IAAwBR,QAAQ,CAAC,EAAD,CAAtC;AACA,QAAM,CAACS,KAAD,EAAQC,QAAR,IAAoBV,QAAQ,CAAC,EAAD,CAAlC;AACA,QAAM,CAACW,KAAD,EAAQC,QAAR,IAAoBZ,QAAQ,CAAC,EAAD,CAAlC;;AAEA,QAAMa,UAAU,GAAG,YAAU;AAC3B,UAAMC,OAAO,GAAG,IAAIV,OAAJ,EAAhB;AACA,UAAMW,aAAa,GAAGD,OAAO,CAACE,GAAR,CAAY,cAAZ,CAAtB;AACA,UAAMC,WAAW,GAAGH,OAAO,CAACE,GAAR,CAAY,YAAZ,CAApB;AACA,UAAME,WAAW,GAAGJ,OAAO,CAACE,GAAR,CAAY,YAAZ,CAApB;AAEAG,IAAAA,OAAO,CAACC,GAAR,CAAY,CAACL,aAAD,EAAgBE,WAAhB,EAA6BC,WAA7B,CAAZ,EACCG,IADD,CACOC,IAAD,IAAU;AACZd,MAAAA,UAAU,CAACc,IAAI,CAAC,CAAD,CAAL,CAAV;AACAZ,MAAAA,QAAQ,CAACY,IAAI,CAAC,CAAD,CAAL,CAAR;AACAV,MAAAA,QAAQ,CAACU,IAAI,CAAC,CAAD,CAAL,CAAR;AACH,KALD;AAMD,GAZD;;AAcArB,EAAAA,SAAS,CAAC,MAAI;AACZY,IAAAA,UAAU;AACX,GAFQ,EAEN,EAFM,CAAT;;AAIA,QAAMU,YAAY,GAAG,UAASC,EAAT,EAAY;AAC/B,WAAOf,KAAK,CAACgB,IAAN,CAAYC,IAAD,IAAU;AAC1B,aAAOA,IAAI,CAACF,EAAL,KAAYG,QAAQ,CAACH,EAAD,CAA3B;AACD,KAFM,CAAP;AAGD,GAJD;;AAMA,QAAMI,YAAY,GAAG,UAASJ,EAAT,EAAY;AAC/B,UAAMV,OAAO,GAAG,IAAIV,OAAJ,EAAhB;AACA,UAAMyB,GAAG,GAAG,gBAAgBL,EAA5B;AACAV,IAAAA,OAAO,CAACgB,MAAR,CAAeD,GAAf,EACCR,IADD,CACM,MAAMU,MAAM,CAACC,QAAP,GAAkB,QAD9B;AAED,GALD;;AAOA,QAAMC,UAAU,GAAG,UAASP,IAAT,EAAc;AAC/B,UAAMZ,OAAO,GAAG,IAAIV,OAAJ,EAAhB;AACAU,IAAAA,OAAO,CAACoB,IAAR,CAAa,YAAb,EAA2BR,IAA3B,EACCL,IADD,CACM,MAAMU,MAAM,CAACC,QAAP,GAAkB,QAD9B;AAED,GAJD;;AAOA,MAAG,CAACvB,KAAJ,EAAU;AACR,WAAO,IAAP;AACD;;AACD,sBACI;AAAA,2BACA,QAAC,MAAD;AAAA,6BAEA,QAAC,KAAD;AAAO,QAAA,MAAM,EAAE,MAAM;AACnB,8BAAO,QAAC,QAAD;AAAU,YAAA,KAAK,EAAEA;AAAjB;AAAA;AAAA;AAAA;AAAA,kBAAP;AACD;AAFD;AAAA;AAAA;AAAA;AAAA;AAFA;AAAA;AAAA;AAAA;AAAA;AADA,mBADJ;AAWD,CAzDH;;GAAMH,a;;KAAAA,a;AA2DJ,eAAeA,aAAf","sourcesContent":["import React, {useState, useEffect} from 'react';\nimport {Route, Switch} from 'react-router-dom';\nimport Request from '../helpers/request';\nimport ShipList from '../components/ships/ShipList';\n\nconst ShipContainer = () => {\n    const [pirates, setPirates] = useState([]);\n    const [ships, setShips] = useState([]);\n    const [raids, setRaids] = useState([]);\n  \n    const requestAll = function(){\n      const request = new Request();\n      const piratePromise = request.get('/api/pirates')\n      const shipPromise = request.get('/api/ships')\n      const raidPromise = request.get('/api/raids')\n  \n      Promise.all([piratePromise, shipPromise, raidPromise])\n      .then((data) => {\n          setPirates(data[0]);\n          setShips(data[1]);\n          setRaids(data[2])\n      })\n    }\n  \n    useEffect(()=>{\n      requestAll()\n    }, [])\n  \n    const findShipById = function(id){\n      return ships.find((ship) => {\n        return ship.id === parseInt(id);\n      })\n    }\n  \n    const handleDelete = function(id){\n      const request = new Request();\n      const url = \"/api/ships/\" + id\n      request.delete(url)\n      .then(() => window.location = \"/ships\")\n    }\n    \n    const handlePost = function(ship){\n      const request = new Request();\n      request.post(\"/api/ships\", ship)\n      .then(() => window.location = '/ships')\n    }\n  \n  \n    if(!ships){\n      return null\n    }\n    return(\n        <>\n        <Switch>\n\n        <Route render={() => {\n          return <ShipList ships={ships}/>\n        }} />\n  \n        </Switch>\n        </>\n    )\n  }\n  \n  export default ShipContainer;"]},"metadata":{},"sourceType":"module"}